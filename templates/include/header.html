{% load static %}

<header id="header" class="header d-flex align-items-center sticky-top">
  <div
    class="container-fluid container-xl position-relative d-flex align-items-center"
  >
    <a
      href="{% url 'core:home' %}"
      class="logo d-flex align-items-center me-auto"
    >
      <!-- Uncomment the line below if you also wish to use an image logo -->
      <!-- <img src="assets/img/logo.webp" alt=""> -->
      <img src="{% static 'assets/img/logo.png' %}" alt="Logo Image" />
      <h1 class="sitename">Skill Swap</h1>
    </a>

    <nav id="navmenu" class="navmenu">
      <ul>
        <li><a href="{% url 'core:home' %}" class="active">Home</a></li>
        <li><a href="{% url 'core:about' %}">About</a></li>
        <li><a href="{% url 'category_skills:courses' %}">Courses</a></li>
        <li>
          <a href="{% url 'category_skills:instructors' %}">Instructors</a>
        </li>
        <!-- <li class="dropdown">
          <a href="#"
            ><span>More Pages</span>
            <i class="bi bi-chevron-down toggle-dropdown"></i
          ></a>
          <ul> -->
            <li>
              <a href="{% url 'category_skills:course_details' %}"
                >Course Details</a
              >
            </li>
            <!-- <li><a href="404.html">404</a></li>
          </ul> -->
        </li>

        <!-- <li class="dropdown">
          <a href="#"
            ><span>Dropdown</span>
            <i class="bi bi-chevron-down toggle-dropdown"></i
          ></a>
          <ul>
            <li><a href="#">Dropdown 1</a></li>
            <li class="dropdown">
              <a href="#"
                ><span>Deep Dropdown</span>
                <i class="bi bi-chevron-down toggle-dropdown"></i
              ></a>
              <ul>
                <li><a href="#">Deep Dropdown 1</a></li>
                <li><a href="#">Deep Dropdown 2</a></li>
                <li><a href="#">Deep Dropdown 3</a></li>
                <li><a href="#">Deep Dropdown 4</a></li>
                <li><a href="#">Deep Dropdown 5</a></li>
              </ul>
            </li>
            <li><a href="#">Dropdown 2</a></li>
            <li><a href="#">Dropdown 3</a></li>
            <li><a href="#">Dropdown 4</a></li>
          </ul>
        </li> -->
        <li><a href="{% url 'core:contact' %}">Contact</a></li>
      </ul>
      <i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
    </nav>
   {% if custom_user %}
<div class="dropdown ms-3">
  <a class="d-flex align-items-center text-decoration-none dropdown-toggle"
     href="#"
     id="userDropdown"
     role="button"
     data-bs-toggle="dropdown"
     aria-expanded="false">

    {% if custom_user.profile_pic %}
      <img src="{{ custom_user.profile_pic.url }}" alt="Profile Picture"
           class="rounded-circle me-2"
           style="width: 40px; height: 40px; object-fit: cover;" />
    {% else %}
      <img src="{% static 'assets/img/default-avatar.webp' %}" alt="Default Avatar"
           class="rounded-circle me-2"
           style="width: 40px; height: 40px; object-fit: cover;" />
    {% endif %}

    <span class="fw-semibold text-dark">{{ custom_user.username }}</span>
    <!-- Bootstrap will automatically add the arrow with dropdown-toggle class -->
  </a>

  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
    <li><a class="dropdown-item" href="{% url 'accounts:profile' %}"><i class="bi bi-person me-2"></i>My Profile</a></li>
    <li><a class="dropdown-item" href="{% url 'accounts:dashboard' %}"><i class="bi bi-speedometer2 me-2"></i>Dashboard</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item text-danger" href="{% url 'accounts:logout' %}"><i class="bi bi-box-arrow-right me-2"></i>Logout</a></li>
  </ul>
</div>

    {% else %}

      <a class="btn-getstarted" data-bs-toggle="modal" data-bs-target="#openloginModal" href="{% url 'accounts:login' %}">Login</a>
      <a class="btn-getstarted" data-bs-toggle="modal" data-bs-target="#openregisterModal" href="{% url 'accounts:register' %}">Register</a>
    {% endif %}
  
</header>

<div class="modal fade" id="openloginModal" tabindex="-1" aria-labelledby="openloginModalLabel" aria-hidden="true" >
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        {% include "accounts/login.html" %}
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="openregisterModal" tabindex="-1" aria-labelledby="openregisterModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content">
      <div class="modal-body">
        {% include "accounts/register.html" %}
      </div>
    </div>
  </div>
</div>

 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js" integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q" crossorigin="anonymous"></script>






